/* ~/.config/waybar/style.css */
/* TEMA: "Hallwoeened Rainbowish Pro" - Arquivo de Lógica */

/* ========================================================== */
/* --- NÍVEL 1: A PALETA (SSOT - INLINED) --- */
/* ========================================================== */

/* Chameleon Theme Integration */
@import '/home/san/.config/waybar/colors.css';

/* Mapping Chameleon Variables to Local Logic */
@define-color c0 @c00_black;
@define-color c_white @c07_white;
@define-color c1 @c10_br_green; /* W1: Neon */
@define-color c2 @c12_br_blue;  /* W2: Digital/Aqua */
@define-color c3 @c13_br_violet;/* W3: Keyword Green (No Yellow) */
@define-color c4 @c14_br_cyan;  /* W4: Pale/Phosphor */
@define-color c5 @c10_br_green;    /* W5: Pure Green */
@define-color c6 @c12_br_blue;  /* W6: Digital/Aqua (Lightened) */
@define-color c7 @c14_br_cyan;  /* W7: Pale */
@define-color c_red @c01_red;   /* Semantic Error (Preserved) */

@define-color ui_bg @background;
@define-color ui_border @border;

@define-color ui_bg @background;
@define-color ui_border @border;

/* ========================================================== */
/* --- NÍVEL 2: ALIASES SEMÂNTICOS (Sua Filosofia) --- */
/* ========================================================== */

/* --- Base (Relaxante) --- */
@define-color bar-bg @c0;         /* Fundo da Barra: #000000 (Preto) */
@define-color module-bg @ui_bg;    /* Fundo Módulo: #110011 (Fundo Pílula) */
@define-color module-hover @ui_border; /* Fundo Módulo (Hover): #440044 (Borda Pílula) */
@define-color module-border @ui_border; /* Borda sutil: #440044 (Borda Pílula) */
@define-color text-main @c2;         /* Texto (Relaxante): #FFAA55 (Laranja) */
@define-color text-muted @c2;         /* Texto (Muted): #FFAA55 (Laranja) */
@define-color text-accent @c2;       /* Acento (Laranja): #FFAA55 (Laranja) */

/* --- "Escandalosa" (Baixa Frequência) --- */
@define-color accent-rare @c4;        /* A cor mais chamativa: #55FF55 (Verde) */

/* --- Feedback --- */
@define-color accent-warning @c3; /* Amarelo */
@define-color accent-critical @c_red; /* Vermelho */

/* --- Ciclo Arco-Íris (para nth-child) --- */
/* As cores c1 a c7 e c_red já estão definidas acima */
@define-color c8 @c_red;

/* 2. Reset Global (O *jeito certo* de usar *) */

* {
    border: none;
    border-radius: 0;
    padding: 0;
    margin: 0;
    font-size: 14pt;
    font-family: "FiraCode Nerd Font Mono", monospace;
}

/* 3. A Barra Principal */
window#waybar {
    background: transparent;
    color: @c_white;
    transition-property: background-color;
    transition-duration: .5s;
}

/* * Lógica Dinâmica CORRIGIDA.
 * A barra de cima vai SOBRESCREVER o 'background' laranja
 * com a cor do workspace ativo.
 * (Note a sintaxe: SEM espaço e SEM '> *')
 */
window#waybar.workspace-1 { background: @c1; }
window#waybar.workspace-2 { background: @c2; }
window#waybar.workspace-3 { background: @c3; }
window#waybar.workspace-4 { background: @c4; }
window#waybar.workspace-5 { background: @c5; }
window#waybar.workspace-6 { background: @c6; }
window#waybar.workspace-7 { background: @c7; }
window#waybar.workspace-8 { background: @c_red; }

/* 4. Estilo "Pílula" Padrão para TODOS os Módulos */
/* Isso cria a aparência moderna e espaçada */
#submaps,
#window,
#clock,
#cpu,
#memory,
#temperature,
#network,
#pulseaudio,
#tray,
#keyboard-state {
    background-color: @module-bg;
    padding: 4px 5px 4px 3px;
    margin: 4px 2px; /* Margem vertical de 4px, horizontal de 2px */
    border: 1px solid @module-border;
    border-radius: 10px; /* Cantos arredondados */
    transition: background-color 0.3s ease;
}

/* 5. Estilo de Hover (Mouse em cima) */
#workspaces button:hover,
#submaps:hover,
#clock:hover,
#cpu:hover,
#memory:hover,
#temperature:hover,
#network:hover,
#pulseaudio:hover,
#keyboard-state:hover {
    background-color: @module-hover;
}

/* ========================================================== */
/* --- WORKSPACES (com nth-child) --- */
/* ========================================================== */

#workspaces {
    background: none;
    padding: 0;
    margin: 0;
}

#workspaces button {
    background-color: @module-bg;
    padding: 4px 5px 4px 3px;
    margin: 4px 2px;
    border: 1px solid @module-border;
    border-radius: 10px;
    transition: background-color 0.3s ease;
}

#workspaces button > * {
    /* color: @text-muted; Cor padrão (Laranja escuro)  */
    background: transparent;
    padding: 0 5px;
}
#workspaces button:nth-child(1) { color: @c1; }
#workspaces button:nth-child(2) { color: @c2; }
#workspaces button:nth-child(3) { color: @c3; }
#workspaces button:nth-child(4) { color: @c4; }
#workspaces button:nth-child(5) { color: @c5; }
#workspaces button:nth-child(6) { color: @c6; }
#workspaces button:nth-child(7) { color: @c7; }
#workspaces button:nth-child(8) { color: @c8; }

/* Destaca o workspace focado (ativo) */
#workspaces button.focused {
	/* color: background; */
	/* background: color; */
}

#workspaces button.urgent {
    background-color: @accent-critical;
    color: @bar-bg;
}

/* ========================================================== */
/* --- MÓDULOS DA DIREITA (com nth-child) --- */
/* ========================================================== */
/* Sua diretiva: aplicar cores por posição */
#modules-right > * {
    background-color: @module-bg;
}
.modules-right > *:nth-child(1) { color: @c1; } /* pulseaudio */
.modules-right > *:nth-child(2) { color: @c2; } /* network */
.modules-right > *:nth-child(3) { color: @c3; } /* cpu */
.modules-right > *:nth-child(4) { color: @c4; } /* memory */
.modules-right > *:nth-child(5) { color: @c5; } /* temperature */
.modules-right > *:nth-child(6) { color: @c6; } /* keyboard-state */
.modules-right > *:nth-child(7) { color: @c7; } /* clock */

/* ========================================================== */
/* --- O "ESCANDALOSO" (Baixa Frequência) --- */
/* ========================================================== */
#submaps {
    color: @accent-rare;
    background-color: @ui_bg;
    border: 1px solid @accent-rare;
    font-style: italic;
    font-weight: bold;
    text-decoration: underline;
}

/* ========================================================== */
/* --- ESTADOS (WARNING/CRITICAL) --- */
/* ========================================================== */
#cpu.warning,
#memory.warning,
#temperature.warning {
    background-color: @accent-warning;
    color: @bar-bg;
}

#cpu.critical,
#memory.critical,
#temperature.critical,
#network.disconnected {
    background-color: @accent-critical;
    color: @bar-bg;
}
